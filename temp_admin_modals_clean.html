
    <!-- Modal de Calificaciones -->
    <div id="gradesModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
        <div class="bg-white rounded-2xl shadow-2xl max-w-6xl w-full max-h-[90vh] overflow-hidden flex flex-col">
            <!-- Header del Modal -->
            <div class="bg-gradient-to-r from-green-600 to-emerald-600 px-6 py-4 flex justify-between items-center">
                <h2 class="text-2xl font-bold text-white">ðŸ“ Calificaciones de <span id="modalStudentName"></span></h2>
                <button id="closeGradesModal" class="text-white hover:text-gray-200 text-3xl font-bold">&times;</button>
            </div>

            <!-- Contenido del Modal -->
            <div class="p-6 overflow-y-auto flex-1">
                <!-- Formulario para agregar calificaciÃ³n -->
                <div class="bg-gray-50 rounded-lg p-4 mb-6 border border-gray-200">
                    <h3 class="text-lg font-bold text-gray-800 mb-4">âž• Agregar Nueva CalificaciÃ³n</h3>
                    <div class="grid md:grid-cols-4 gap-4">
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-1">Grupo</label>
                            <select id="modalGroupSelect" class="w-full px-3 py-2 bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 text-gray-900">
                                <option value="">Seleccionar grupo...</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-1">Unidad/Tema</label>
                            <input type="text" id="modalUnitName" placeholder="Ej: Unidad 1" class="w-full px-3 py-2 bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 text-gray-900">
                        </div>
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-1">CalificaciÃ³n (0-100)</label>
                            <input type="number" id="modalScore" min="0" max="100" placeholder="85" class="w-full px-3 py-2 bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 text-gray-900">
                        </div>
                        <div class="flex items-end">
                            <button id="addGradeBtn" class="w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-2 rounded-lg transition">
                                Agregar
                            </button>
                        </div>
                    </div>
                    <div id="modalGradeError" class="hidden mt-3 bg-red-100 border border-red-400 text-red-700 px-4 py-2 rounded text-sm"></div>
                    <div id="modalGradeSuccess" class="hidden mt-3 bg-green-100 border border-green-400 text-green-700 px-4 py-2 rounded text-sm"></div>
                </div>

                <!-- Tabla de Calificaciones del Estudiante -->
                <div class="bg-white rounded-lg border border-gray-200">
                    <div class="px-4 py-3 bg-gray-50 border-b">
                        <h3 class="text-lg font-bold text-gray-800">Historial de Calificaciones</h3>
                    </div>
                    <div class="overflow-x-auto">
                        <table class="w-full">
                            <thead class="bg-gray-50 border-b">
                                <tr>
                                    <th class="px-4 py-2 text-left text-sm font-semibold text-gray-600">#</th>
                                    <th class="px-4 py-2 text-left text-sm font-semibold text-gray-600">Grupo</th>
                                    <th class="px-4 py-2 text-left text-sm font-semibold text-gray-600">Unidad</th>
                                    <th class="px-4 py-2 text-left text-sm font-semibold text-gray-600">CalificaciÃ³n</th>
                                    <th class="px-4 py-2 text-left text-sm font-semibold text-gray-600">Profesor</th>
                                    <th class="px-4 py-2 text-left text-sm font-semibold text-gray-600">Fecha</th>
                                    <th class="px-4 py-2 text-left text-sm font-semibold text-gray-600">Acciones</th>
                                </tr>
                            </thead>
                            <tbody id="modalGradesTable">
                                <tr>
                                    <td colspan="7" class="px-4 py-8 text-center text-gray-500">No hay calificaciones registradas</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- EstadÃ­sticas -->
                <div class="grid md:grid-cols-3 gap-4 mt-6">
                    <div class="bg-white rounded-lg p-4 border-l-4 border-blue-600 shadow-sm">
                        <p class="text-sm font-semibold text-gray-700">Total Calificaciones</p>
                        <p id="modalTotalGrades" class="text-2xl font-bold text-blue-600">0</p>
                    </div>
                    <div class="bg-white rounded-lg p-4 border-l-4 border-green-600 shadow-sm">
                        <p class="text-sm font-semibold text-gray-700">Promedio</p>
                        <p id="modalAverageGrade" class="text-2xl font-bold text-green-600">0</p>
                    </div>
                    <div class="bg-white rounded-lg p-4 border-l-4 border-yellow-600 shadow-sm">
                        <p class="text-sm font-semibold text-gray-700">Grupos Evaluados</p>
                        <p id="modalGroupsCount" class="text-2xl font-bold text-yellow-600">0</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

